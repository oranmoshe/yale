

<html>
<head>
<script
  src="https://code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"></script>
<script src="static/js/color-thief.js"></script>

<script>

$(document).ready(function(){

	$('#submit').click(function init(){
		var val = $("#term").val();
		console.log(val);
		$.getJSON('https://yale-oran-moshe.herokuapp.com/product/'+ val +'?callback=non', 
		function(json) {
		     appenData(json);
		     console.log(json);
			 imageColors(json.image_url);
		});
		
		function appenData(obj){
			$("#icon").html('<img src=\"' + obj.icon +'\">');
			$("#image_credit").html(obj.image_credit);
			$("#image_url").html('<img src=\"' + obj.image_url +'\">');
			$(".quot").html(obj.quot);
		}

		function imageColors(image_url){
			var colorThief = new ColorThief();
			colorThief.getColorsAsync(image_url,function(color, element){
		        $('.dominant').css('color','rgb('+color[0][0]+','+color[0][1]+','+color[0][2]+')');
		        $('.color1').css('color','rgb('+color[1][0]+','+color[1][1]+','+color[1][2]+')');
		        $('.color2').css('color','rgb('+color[2][0]+','+color[2][1]+','+color[2][2]+')');
		        $('.color3').css('color','rgb('+color[3][0]+','+color[3][1]+','+color[3][2]+')');
		        $('.color4').css('color','rgb('+color[4][0]+','+color[4][1]+','+color[4][2]+')');
		        $('.color5').css('color','rgb('+color[5][0]+','+color[5][1]+','+color[5][2]+')');
		        $('.color6').css('color','rgb('+color[6][0]+','+color[6][1]+','+color[6][2]+')');
		        $('.color7').css('color','rgb('+color[7][0]+','+color[7][1]+','+color[7][2]+')');
		        $('.color8').css('color','rgb('+color[8][0]+','+color[8][1]+','+color[8][2]+')');
		        $('.color9').css('color','rgb('+color[8][0]+','+color[8][1]+','+color[8][2]+')');
		        $('.box.dominant').css('background-color','rgb('+color[0][0]+','+color[0][1]+','+color[0][2]+')');
		        $('.box.color1').css('background-color','rgb('+color[1][0]+','+color[1][1]+','+color[1][2]+')');
		        $('.box.color2').css('background-color','rgb('+color[2][0]+','+color[2][1]+','+color[2][2]+')');
		        $('.box.color3').css('background-color','rgb('+color[3][0]+','+color[3][1]+','+color[3][2]+')');
		        $('.box.color4').css('background-color','rgb('+color[4][0]+','+color[4][1]+','+color[4][2]+')');
		        $('.box.color5').css('background-color','rgb('+color[5][0]+','+color[5][1]+','+color[5][2]+')');
		        $('.box.color6').css('background-color','rgb('+color[6][0]+','+color[6][1]+','+color[6][2]+')');
		        $('.box.color7').css('background-color','rgb('+color[7][0]+','+color[7][1]+','+color[7][2]+')');
		        $('.box.color8').css('background-color','rgb('+color[8][0]+','+color[8][1]+','+color[8][2]+')');
		        $('.box.color9').css('background-color','rgb('+color[8][0]+','+color[8][1]+','+color[8][2]+')');
        	});
		}

	});

});
</script>
<style type="text/css">
	.box{
		height:30px;
		width: 50px;
		margin:5px;
		display: inline-block;
	}
</style>
</head>
<body>

Term: <input type="text" id="term" name="Term" value="car"><br>
<span id="submit" style="color: blue;">Refresh</span>

<div id="icon"></div>
<div></div>
<blockquote name="fe4c" id="fe4c" class="graf graf--blockquote graf-after--blockquote"><a  class="markup--anchor markup--blockquote-anchor" rel="nofollow" target="_blank"  id="image_credit">Annie Spratt</a> / <a href="https://unsplash.com/" data-href="https://unsplash.com/" class="markup--anchor markup--blockquote-anchor" rel="nofollow" target="_blank">Unsplash</a></blockquote>
<div id="image_url"></div>
<div>
	<h2>Dominant Color</h2>
	<div class="box dominant"></div>
</div>
<div>
	<h2>Palette Color</h2>
	<div class="box color1"></div>
	<div class="box color2"></div>
	<div class="box color3"></div>
	<div class="box color4"></div>
	<div class="box color5"></div>
	<div class="box color6"></div>
	<div class="box color7"></div>
	<div class="box color8"></div>
	<div class="box color9"></div>
</div>
<div>
	<div class="quot dominant"></div>
	<div class="quot color1"></div>
	<div class="quot color2"></div>
	<div class="quot color3"></div>
	<div class="quot color4"></div>
	<div class="quot color5"></div>
	<div class="quot color6"></div>
	<div class="quot color7"></div>
	<div class="quot color8"></div>
	<div class="quot color9"></div>
</div>
</body>
</html>